<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <title>설문조사 수정</title>
</head>
<body>
    <h1>설문조사 수정</h1>
    <form action="/survey/<%= survey._id %>" method="POST">
        <label for="title">설문조사 제목:</label>
        <input type="text" name="title" value="<%= survey.title %>" required>

        <h2>문항 추가/수정</h2>
        <div id="questions">
            <% survey.questions.forEach(function(question, index) { %>
                <div>
                    <input type="text" name="questions[<%= index %>][questionText]" value="<%= question.questionText %>" required>
                    <select name="questions[<%= index %>][questionType]">
                        <option value="short_answer" <%= question.questionType === 'short_answer' ? 'selected' : '' %>>단답형</option>
                        <option value="long_answer" <%= question.questionType === 'long_answer' ? 'selected' : '' %>>장문형</option>
                        <option value="single_choice" <%= question.questionType === 'single_choice' ? 'selected' : '' %>>단일 선택</option>
                        <option value="multiple_choice" <%= question.questionType === 'multiple_choice' ? 'selected' : '' %>>다중 선택</option>
                        <option value="date" <%= question.questionType === 'date' ? 'selected' : '' %>>날짜 입력</option>
                    </select>
                    <input type="text" name="questions[<%= index %>][options]" value="<%= question.options.join(', ') %>" placeholder="선택지 (쉼표로 구분)">
                </div>
            <% }); %>
        </div>
        <button type="submit">수정 완료</button>
    </form>
</body>
</html>
